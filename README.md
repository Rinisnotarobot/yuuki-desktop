# Yuuki Desktop

ä¸€ä¸ªåŸºäº **Live2D + PySide6** çš„æ¡Œé¢æ™ºèƒ½èŒå® åº”ç”¨ï¼Œé›†æˆäº† **å¤šæ¨¡æ€ AI äº¤äº’**ã€**å±å¹•æ„ŸçŸ¥**ã€**è¯­éŸ³å¯¹è¯** ç­‰åŠŸèƒ½ã€‚Yuuki èƒ½å¤Ÿé€šè¿‡è§†è§‰å’Œå¬è§‰æ„ŸçŸ¥ä½ çš„å·¥ä½œçŠ¶æ€ï¼Œå¹¶ä»¥å‚²å¨‡æ¯’èˆŒçš„æ–¹å¼ä¸ä½ äº’åŠ¨ã€‚

---

## ğŸŒŸ åŠŸèƒ½ç‰¹æ€§

| åŠŸèƒ½                | è¯´æ˜                                                                        |
| :------------------ | :-------------------------------------------------------------------------- |
| **Live2D æ¨¡å‹æ¸²æŸ“** | ä½¿ç”¨ `live2d-py` + OpenGL æ¸²æŸ“ Live2D Cubism 3 æ¨¡å‹ï¼Œæ”¯æŒé€æ˜èƒŒæ™¯ç½®é¡¶æ˜¾ç¤ºã€‚ |
| **æ™ºèƒ½ AI å¤§è„‘**    | é›†æˆ Google Gemini æ¨¡å‹ï¼ˆé€šè¿‡ `agno`ï¼‰ï¼Œæ‹¥æœ‰ç‹¬ç‰¹çš„äººç‰©è®¾å®šï¼ˆå‚²å¨‡å¥³ä»†ï¼‰ã€‚    |
| **å¤šæ¨¡æ€æ„ŸçŸ¥**      | æ”¯æŒ **å±å¹•è§†è§‰ç†è§£**ï¼ˆScreen Understandingï¼‰å’Œ **è¯­éŸ³å¬è§‰ç†è§£**ã€‚          |
| **å±å¹•å˜åŒ–æ£€æµ‹**    | å®æ—¶ç›‘æµ‹å±å¹•æ˜¾è‘—å˜åŒ–ï¼Œè‡ªåŠ¨è§¦å‘ AI è§‚å¯Ÿå¹¶åæ§½ä½ çš„æ“ä½œã€‚                      |
| **å…¨åŒå·¥è¯­éŸ³äº¤äº’**  | é›†æˆ Silero VADï¼ˆè¯­éŸ³æ£€æµ‹ï¼‰+ GLM-ASRï¼ˆè¯­éŸ³è¯†åˆ«ï¼‰ï¼Œæ”¯æŒè‡ªç„¶è¯­è¨€å¯¹è¯ã€‚        |
| **æ°”æ³¡äº¤äº’**        | æ¡Œé¢æ‚¬æµ®ç²‰è‰²æ°”æ³¡ï¼Œä¼˜é›…åœ°å±•ç¤º AI çš„å›å¤å†…å®¹ã€‚                                |
| **æµé‡æ§åˆ¶**        | æ™ºèƒ½è¾“å…¥æ§åˆ¶å™¨ï¼Œåœ¨ AI æ€è€ƒæˆ–å›å¤æ—¶è‡ªåŠ¨å±è”½å¹²æ‰°è¾“å…¥ã€‚                        |

---

## âš™ï¸ ç³»ç»Ÿè¦æ±‚

- **æ“ä½œç³»ç»Ÿ**ï¼šWindows 10/11
- **Python**ï¼š>= 3.10
- **æ˜¾å¡**ï¼ˆæ¨èï¼‰ï¼šæ”¯æŒ CUDA çš„ NVIDIA æ˜¾å¡ï¼ˆç”¨äºåŠ é€Ÿ ASR å’Œ VAD æ¨¡å‹ï¼‰
- **ç½‘ç»œ**ï¼šèƒ½å¤Ÿè®¿é—® Google Gemini API çš„ç½‘ç»œç¯å¢ƒ

---

## ğŸš€ å®‰è£…æŒ‡å—

é¡¹ç›®ä½¿ç”¨ [uv](https://docs.astral.sh/uv/) ç®¡ç†ä¾èµ–ï¼ˆä¹Ÿå¯ä»¥ä½¿ç”¨ pipï¼‰ã€‚

1. **å®‰è£… uv**ï¼ˆå¦‚æœå°šæœªå®‰è£…ï¼‰

   Windows:

   ```powershell
   powershell -ExecutionPolicy ByPass -c "irm https://astral.sh/uv/install.ps1 | iex"
   ```

   macOS / Linux:

   ```bash
   curl -LsSf https://astral.sh/uv/install.sh | sh
   ```

2. **å…‹éš†ä»“åº“**

   ```bash
   git clone <repo-url>
   cd yuuki-desktop
   ```

3. **å®‰è£…ä¾èµ–**

   ```bash
   uv sync
   # æˆ–è€…
   pip install -r requirements.txt
   ```

4. **é…ç½®ç¯å¢ƒå˜é‡**
   é¡¹ç›®éœ€è¦ Google Gemini API Key æ‰èƒ½è¿è¡Œæ ¸å¿ƒ AI åŠŸèƒ½ã€‚

   å¤åˆ¶é…ç½®æ–‡ä»¶æ¨¡æ¿ï¼š

   ```bash
   cp .env.example .env
   ```

   ç¼–è¾‘ `.env` æ–‡ä»¶ï¼Œå¡«å…¥ä½ çš„ API Keyï¼š

   ```ini
   GOOGLE_API_KEY=your_api_key_here
   ```

---

## ğŸ® å¿«é€Ÿå¼€å§‹

```bash
# å¯åŠ¨åº”ç”¨
uv run main.py

# æŒ‡å®šæ¨¡å‹æ–‡ä»¶
uv run main.py --model "resources/girlfriend/girlfriend.model3.json"
```

### å‘½ä»¤è¡Œå‚æ•°

- `--model`: æŒ‡å®š Live2D æ¨¡å‹è·¯å¾„ (`.model3.json`)ã€‚
- `--expressions`: å¯åŠ¨æ—¶è‡ªåŠ¨åº”ç”¨çš„è¡¨æƒ…åŠ¨ä½œï¼Œä¾‹å¦‚ `æ°´å°å…³é—­.exp3.json`ã€‚

---

## ğŸ’¡ å¦‚ä½•äº’åŠ¨

1. **è¯­éŸ³å¯¹è¯**ï¼šç›´æ¥å¯¹ç€éº¦å…‹é£è¯´è¯ï¼ŒYuuki å¬åˆ°å®Œæ•´å¥å­åä¼šè¿›è¡Œå›å¤ã€‚
2. **å±å¹•äº’åŠ¨**ï¼šå½“ä½ åˆ‡æ¢çª—å£æˆ–å±å¹•ç”»é¢å‘ç”Ÿæ˜¾è‘—å˜åŒ–æ—¶ï¼ŒYuuki ä¼šâ€œçœ‹â€åˆ°ä½ çš„å±å¹•å†…å®¹å¹¶å‘è¡¨è¯„è®ºã€‚
3. **é¼ æ ‡äº¤äº’**ï¼š
   - **å·¦é”®æ‹–æ‹½**ï¼šç§»åŠ¨ Yuuki çš„ä½ç½®ã€‚
   - **å³é”®èœå•**ï¼šé€€å‡ºç¨‹åºã€‚

---

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
yuuki-desktop/
â”œâ”€â”€ main.py                  # ç¨‹åºå…¥å£ï¼Œç»„è£…å„ä¸ªæ¨¡å—
â”œâ”€â”€ .env                     # ç¯å¢ƒå˜é‡é…ç½®æ–‡ä»¶
â”œâ”€â”€ resources/               # Live2D æ¨¡å‹èµ„æºç›®å½•
â””â”€â”€ src/
    â”œâ”€â”€ agent.py             # AgentWorkerï¼Œå°è£… LLM äº¤äº’é€»è¾‘
    â”œâ”€â”€ chat_bubble.py       # æ¡Œé¢æ‚¬æµ®æ°”æ³¡ UI ç»„ä»¶
    â”œâ”€â”€ controller.py        # è¾“å…¥æ§åˆ¶å™¨ï¼Œç®¡ç†å¹¶å‘è¯·æ±‚
    â”œâ”€â”€ prompt.py            # AI äººè®¾ä¸ç³»ç»Ÿæç¤ºè¯
    â”œâ”€â”€ screen_worker.py     # å±å¹•å˜åŒ–æ£€æµ‹çº¿ç¨‹
    â”œâ”€â”€ transcribe_worker.py # ASR è¯­éŸ³è½¬æ–‡å­—çº¿ç¨‹
    â””â”€â”€ vad_worker.py        # VAD è¯­éŸ³æ´»åŠ¨æ£€æµ‹çº¿ç¨‹
```

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **GUI**: PySide6 (Qt6)
- **Live2D**: live2d-py (OpenGL)
- **AI Agent**: Agno framework + Google Gemini
- **Vision**: OpenCV + MSS
- **Audio**: Silero VAD + GLM-ASR + SoundDevice
